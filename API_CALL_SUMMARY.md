# API 호출 페이지별 요약

## 페이지별 API 호출 현황

### 1. 랜딩 페이지 (LandingPageV2)
- **API 호출**: `/api/daily-conversation-count` (대화 횟수 조회용, 사용자 입력과 무관)
- **주요 기술 API**: **없음**
- **토큰 사용**: 0 토큰

### 2. 온보딩 페이지 (OnboardingPage)
- **API 호출**: **없음**
- **주요 기술 API**: **없음**
- **토큰 사용**: 0 토큰
- **참고**: 프론트엔드 상태 관리만 (선택된 옵션 저장)

### 3. 메인 페이지 (MainPageV1) ⭐
**모든 주요 API 호출이 여기서 발생합니다:**

- **STT API**: 음성 입력 시 호출
- **Chat API**: 텍스트/음성 입력 시, 추천안 클릭 시 (조건부)
- **Embedding API**: Chat API 내부에서 호출 (정보 요구 질문일 때)
- **TTS Rewrite API**: Chat 응답 후 자동 재생 시
- **TTS API**: TTS Rewrite 후 또는 직접 호출
- **추천안 처리**: 고정 데이터 사용 (API 호출 없음, Chat API 조건부)

**추가 API**:
- `/api/heartbeat`: 메인 페이지 진입 시 세션 유지용 (토큰 사용 없음)

### 4. 종료 페이지 (EndScreens)
- **API 호출**: **없음**
- **주요 기술 API**: **없음**
- **토큰 사용**: 0 토큰
- **참고**: UI 표시만 (대화 요약, 최종 메시지)

---

## 결론

✅ **이미지 속 구조가 맞습니다!**

- **모든 주요 기술 API (STT, Chat, Embedding, TTS Rewrite, TTS)는 메인 페이지에서만 호출됩니다.**
- 랜딩 페이지와 온보딩 페이지: API 호출 없음 (또는 대화 횟수 조회 같은 부가 기능만)
- 종료 페이지: API 호출 없음
- 메인 페이지: 모든 AI 관련 API 호출의 중심

이미지 다이어그램이 코드 구조와 정확히 일치합니다!

